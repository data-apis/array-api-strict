<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="API Reference" href="api.html" />

    <link rel="shortcut icon" href="_static/favicon.png"/><!-- Generated with Sphinx 8.1.3 and Furo 2024.08.06 -->
        <title>array-api-strict documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=dc4c535e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">array-api-strict  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  
  <span class="sidebar-brand-text">array-api-strict  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/index.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section class="tex2jax_ignore mathjax_ignore" id="array-api-strict">
<h1>array-api-strict<a class="headerlink" href="#array-api-strict" title="Link to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">array_api_strict</span></code> is a strict, minimal implementation of the <a class="reference external" href="https://data-apis.org/array-api/latest/">Python array
API</a></p>
<p>The purpose of array-api-strict is to provide an implementation of the array
API for consuming libraries to test against so they can be completely sure
their usage of the array API is portable.</p>
<p>It is <em>not</em> intended to be used by end-users. End-users of the array API
should just use their favorite array library (NumPy, CuPy, PyTorch, etc.) as
usual. It is also not intended to be used as a dependency by consuming
libraries. Consuming library code should use the
<a class="reference external" href="https://data-apis.org/array-api-compat/">array-api-compat</a> package to
support the array API. Rather, it is intended to be used in the test suites of
consuming libraries to test their array API usage.</p>
<p>array-api-strict currently supports the
<a class="reference external" href="https://data-apis.org/array-api/latest/changelog.html#v2022-12">2023.12</a>
version of the standard.
<a class="reference external" href="https://data-apis.org/array-api/latest/changelog.html#v2023-12">2022.12</a>
support is also implemented, <a class="reference internal" href="api.html#array-api-strict-flags"><span class="std std-ref">and can be enabled with a
flag</span></a>.</p>
<section id="install">
<h2>Install<a class="headerlink" href="#install" title="Link to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">array-api-strict</span></code> is available on both
<a class="reference external" href="https://pypi.org/project/array-api-strict/">PyPI</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">array</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">strict</span>
</pre></div>
</div>
<p>and <a class="reference external" href="https://anaconda.org/conda-forge/array-api-strict">Conda-forge</a></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">--</span><span class="n">channel</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">array</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">strict</span>
</pre></div>
</div>
<p>array-api-strict supports NumPy 1.26 and NumPy 2.0.</p>
</section>
<section id="rationale">
<h2>Rationale<a class="headerlink" href="#rationale" title="Link to this heading">¶</a></h2>
<p>The array API has many functions and behaviors that are required to be
implemented by conforming libraries, but it does not, in most cases, disallow
implementing additional functions, keyword arguments, and behaviors that
aren’t explicitly required by the standard.</p>
<p>However, this poses a problem for consumers of the array API, as they may
accidentally use a function or rely on a behavior which just happens to be
implemented in every array library they test against (e.g., NumPy and
PyTorch), but isn’t required by the standard and may not be included in other
libraries.</p>
<p>array-api-strict solves this problem by providing a strict, minimal
implementation of the array API standard. Only those functions and behaviors
that are explicitly <em>required</em> by the standard are implemented. For example,
most NumPy functions accept Python scalars as inputs:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>However, the standard only specifies function inputs on <code class="docutils literal notranslate"><span class="pre">Array</span></code> objects. And
indeed, some libraries, such as PyTorch, do not allow this:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">torch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">torch</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">sin(): argument &#39;input&#39; (position 1) must be Tensor, not float</span>
</pre></div>
</div>
<p>In array-api-strict, this is also an error:</p>
<div class="highlight-py notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">array_api_strict</span> <span class="k">as</span> <span class="nn">xp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xp</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;float&#39; object has no attribute &#39;dtype&#39;</span>
</pre></div>
</div>
<p>Here is an (incomplete) list of the sorts of ways that array-api-strict is
strict/minimal:</p>
<ul class="simple">
<li><p>Only those functions and methods that are <a class="reference external" href="https://data-apis.org/array-api/latest/API_specification/index.html">defined in the
standard</a>
are included.</p></li>
<li><p>In those functions, only the keyword-arguments that are defined by the
standard are included. All signatures in array-api-strict use
<a class="reference external" href="https://data-apis.org/array-api/latest/API_specification/function_and_method_signatures.html#function-and-method-signatures">positional-only
arguments</a>.
As noted above, only <code class="docutils literal notranslate"><span class="pre">array_api_strict</span></code> array objects are accepted by
functions, except in the places where the standard allows Python scalars
(i.e., functions do not automatically call <code class="docutils literal notranslate"><span class="pre">asarray</span></code> on their inputs).</p></li>
<li><p>Only those <a class="reference external" href="https://data-apis.org/array-api/latest/API_specification/data_types.html">dtypes that are defined in the
standard</a>
are included.</p></li>
<li><p>All functions and methods reject inputs if the standard does not <em>require</em>
the input dtype(s) to be supported. This is one of the most restrictive
aspects of the library. For example, in NumPy, most transcendental functions
like <code class="docutils literal notranslate"><span class="pre">sin</span></code> will accept integer array inputs, but the <a class="reference external" href="https://data-apis.org/array-api/latest/API_specification/generated/array_api.sin.html#array_api.sin">standard only requires
them to accept floating-point
inputs</a>,
so in array-api-strict, <code class="docutils literal notranslate"><span class="pre">sin(asarray(0))</span></code> will raise an exception.</p></li>
<li><p>The
<a class="reference external" href="https://data-apis.org/array-api/latest/API_specification/indexing.html">indexing</a>
semantics required by the standard are limited compared to those implemented
by NumPy (e.g., out-of-bounds slices are not supported, integer array
indexing is not supported, only a single boolean array index is supported).</p></li>
<li><p>There are no distinct “scalar” objects as in NumPy. There are only 0-D
arrays.</p></li>
<li><p>Dtype objects are just empty objects that only implement <a class="reference external" href="https://data-apis.org/array-api/latest/API_specification/generated/array_api.data_types.__eq__.html">equality
comparison</a>.
The way to access dtype objects in the standard is by name, like
<code class="docutils literal notranslate"><span class="pre">xp.float32</span></code>.</p></li>
<li><p>The array object type itself is private and should not be accessed.
Subclassing or otherwise trying to directly initialize this object is not
supported. Arrays should be created with one of the <a class="reference external" href="https://data-apis.org/array-api/latest/API_specification/creation_functions.html">array creation
functions</a>
such as <code class="docutils literal notranslate"><span class="pre">asarray</span></code>.</p></li>
<li><p>Optional behavior such as <a class="reference external" href="https://data-apis.org/array-api/latest/extensions/index.html">optional
extensions</a>,
functions that use data-dependent shapes, and boolean indexing are enabled
by default but can disabled with the <a class="reference internal" href="api.html#array-api-strict-flags"><span class="std std-ref">array-api-strict
flags</span></a>.</p></li>
</ul>
</section>
<section id="caveats">
<h2>Caveats<a class="headerlink" href="#caveats" title="Link to this heading">¶</a></h2>
<p>array-api-strict is a thin pure Python wrapper around NumPy. NumPy 2.0 fully
supports the array API but NumPy 1.26 does not, so many behaviors are wrapped
in NumPy 1.26 to provide array API compatible behavior. Although it is based
on NumPy, mixing NumPy arrays with array-api-strict arrays is not supported.
This should generally raise an error, as it indicates a potential portability
issue, but this hasn’t necessarily been tested thoroughly.</p>
<ol class="arabic simple">
<li><p>array-api-strict is validated against the <a class="reference external" href="https://github.com/data-apis/array-api-tests">array API test
suite</a>. However, there may be
a few minor instances where NumPy deviates from the standard in a way that
is inconvenient to workaround in array-api-strict, since it aims to remain
pure Python. You can see the full list of tests that are known to fail in
the <a class="reference external" href="https://github.com/data-apis/array-api-strict/blob/main/array-api-tests-xfails.txt">xfails
file</a>.</p></li>
<li><p>array-api-strict is just a thin, pure Python wrapper around <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>
and <code class="docutils literal notranslate"><span class="pre">numpy</span></code> functions. As such, the performance should be mostly comparable
to NumPy, but nonetheless, performance is not a primary concern for this
library, since it is only intended to be used for testing purposes.</p></li>
<li><p>Since NumPy is a CPU-only library, the <a class="reference external" href="https://data-apis.org/array-api/latest/design_topics/device_support.html">device
support</a>
in array-api-strict is superficial only. <code class="docutils literal notranslate"><span class="pre">x.device</span></code> is always a (private)
<code class="docutils literal notranslate"><span class="pre">CPU_DEVICE</span></code> object, and <code class="docutils literal notranslate"><span class="pre">device</span></code> keywords to creation functions only
accept either this object or <code class="docutils literal notranslate"><span class="pre">None</span></code>. A future version of array-api-strict
<a class="reference external" href="https://github.com/data-apis/array-api-strict/issues/5">may add support for a CuPy
backend</a> so that
more significant device support can be tested.</p></li>
<li><p>Although only array types are expected in array-api-strict functions,
currently most functions do not do extensive type checking on their inputs,
so a sufficiently duck-typed object may pass through silently (or at best,
you may get <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code> instead of <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>). However, all type
signatures have type annotations (based on those from the standard), so
this deviation may be tested with type checking. This <a class="reference external" href="https://github.com/data-apis/array-api-strict/issues/6">behavior may improve
in the future</a>.</p></li>
</ol>
</section>
<section id="relationship-to-numpy-array-api">
<span id="numpy-array-api"></span><h2>Relationship to <code class="docutils literal notranslate"><span class="pre">numpy.array_api</span></code><a class="headerlink" href="#relationship-to-numpy-array-api" title="Link to this heading">¶</a></h2>
<p>Previously this implementation was available as <code class="docutils literal notranslate"><span class="pre">numpy.array_api</span></code>, but it was
moved to a separate package for NumPy 2.0.</p>
<p>The history of this repo prior to commit
<a class="reference external" href="https://github.com/data-apis/array-api-strict/commit/fbefd42e4d11e9be20e0a4785f2619fc1aef1e7c">fbefd42e4d11e9be20e0a4785f2619fc1aef1e7c</a>
was generated automatically from the numpy git history, using the following
<a class="reference external" href="https://github.com/newren/git-filter-repo">git-filter-repo</a> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git_filter_repo</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">path</span> <span class="n">numpy</span><span class="o">/</span><span class="n">array_api</span><span class="o">/</span> <span class="o">--</span><span class="n">path</span><span class="o">-</span><span class="n">rename</span> <span class="n">numpy</span><span class="o">/</span><span class="n">array_api</span><span class="p">:</span><span class="n">array_api_strict</span> <span class="o">--</span><span class="n">replace</span><span class="o">-</span><span class="n">text</span> <span class="o">&lt;</span><span class="p">(</span><span class="n">echo</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;numpy.array_api==&gt;array_api_strict</span><span class="se">\n</span><span class="s2">from ..core==&gt;from numpy.core</span><span class="se">\n</span><span class="s2">from .._core==&gt;from numpy._core</span><span class="se">\n</span><span class="s2">from ..linalg==&gt;from numpy.linalg</span><span class="se">\n</span><span class="s2">from numpy import array_api==&gt;import array_api_strict&quot;</span><span class="p">)</span> <span class="o">--</span><span class="n">commit</span><span class="o">-</span><span class="n">callback</span> <span class="s1">&#39;commit.message = commit.message.rstrip() + b&quot;</span><span class="se">\n\n</span><span class="s1">Original NumPy Commit: &quot; + commit.original_id&#39;</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="api.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">API Reference</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Consortium for Python Data API Standards
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/data-apis/array-api-strict" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">array-api-strict</a><ul>
<li><a class="reference internal" href="#install">Install</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#caveats">Caveats</a></li>
<li><a class="reference internal" href="#relationship-to-numpy-array-api">Relationship to <code class="docutils literal notranslate"><span class="pre">numpy.array_api</span></code></a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    </body>
</html>